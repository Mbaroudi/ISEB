[pytest]
# ===================================================================
# Configuration pytest pour ISEB Platform
# ===================================================================

# Répertoires des tests
testpaths = tests/selenium tests/unit

# Pattern de fichiers de tests
python_files = test_*.py

# Pattern de classes de tests
python_classes = Test*

# Pattern de méthodes de tests
python_functions = test_*

# Markers personnalisés
markers =
    smoke: Tests critiques (smoke tests) - à exécuter en priorité
    regression: Tests de non-régression
    slow: Tests lents (> 30 secondes)
    integration: Tests d'intégration cross-modules
    unit: Tests unitaires
    e2e: Tests end-to-end (Selenium)

# Options par défaut
addopts =
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    --color=yes

# Timeout global (10 minutes)
timeout = 600

# Chemins Python
pythonpath = .

# Options de log
log_cli = false
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Couverture de code (si pytest-cov installé)
# addopts = --cov=addons --cov-report=html --cov-report=term

# ===================================================================
# NOTES D'UTILISATION
# ===================================================================
#
# Tests E2E uniquement:
#   pytest tests/selenium/ -v
#
# Tests unitaires uniquement:
#   pytest tests/unit/ -v
#
# Smoke tests uniquement:
#   pytest -m smoke -v
#
# Exclure tests lents:
#   pytest -m "not slow" -v
#
# Avec rapport HTML:
#   pytest --html=report.html --self-contained-html
#
# Parallélisation (nécessite pytest-xdist):
#   pytest -n auto
#
# ===================================================================
