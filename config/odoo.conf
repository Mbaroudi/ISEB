[options]
; ===================================================================
; ISEB Platform - Odoo Configuration
; ===================================================================

; -------------------------------------------------------------------
; Database
; -------------------------------------------------------------------
db_host = db
db_port = 5432
db_user = odoo
db_password = odoo
db_name = False
db_maxconn = 64
db_template = template0

; -------------------------------------------------------------------
; Security
; -------------------------------------------------------------------
admin_passwd = admin
; IMPORTANT: Changez ce mot de passe en production!

; -------------------------------------------------------------------
; Addons
; -------------------------------------------------------------------
addons_path = /usr/lib/python3/dist-packages/odoo/addons,/mnt/extra-addons

; -------------------------------------------------------------------
; Server
; -------------------------------------------------------------------
http_port = 8069
longpolling_port = 8072

; CORS - Allow frontend access
proxy_mode = True
; Allow requests from frontend
xmlrpc = True
xmlrpc_interface = 0.0.0.0

; Workers (production)
workers = 4
max_cron_threads = 2

; Limits
limit_memory_soft = 2147483648
limit_memory_hard = 2684354560
limit_time_cpu = 600
limit_time_real = 1200
limit_request = 8192

; -------------------------------------------------------------------
; Logging
; -------------------------------------------------------------------
logfile = /var/log/odoo/odoo.log
log_level = info
log_handler = :INFO

; Log rotation
logrotate = True
syslog = False

; -------------------------------------------------------------------
; Performance
; -------------------------------------------------------------------
; Cache
list_db = False
dbfilter = ^iseb_prod$

; -------------------------------------------------------------------
; Sessions
; -------------------------------------------------------------------
; Session timeout (seconds) - default 7 days
session_timeout = 604800

; -------------------------------------------------------------------
; Email
; -------------------------------------------------------------------
; email_from = noreply@iseb.fr
; smtp_server = localhost
; smtp_port = 25
; smtp_ssl = False
; smtp_user = False
; smtp_password = False

; -------------------------------------------------------------------
; Development
; -------------------------------------------------------------------
; Décommentez pour mode développement
; dev_mode = reload,qweb,werkzeug,xml

; -------------------------------------------------------------------
; ISEB Specific Configuration
; -------------------------------------------------------------------

; OCR Backend (auto, deepseek, tesseract)
ocr_backend = auto

; Bank Sync Configuration
bank_sync_enabled = True
bank_sync_provider = budget_insight

; Reporting Configuration
reporting_cache_enabled = True
reporting_cache_ttl = 3600

; E-Invoicing Configuration
einvoicing_enabled = True
einvoicing_default_format = facturx

; ===================================================================
; NOTES
; ===================================================================
;
; Cette configuration est optimisée pour un déploiement Docker.
; Pour une installation native, ajustez les chemins et les paramètres.
;
; Production:
;   - Changez admin_passwd
;   - Configurez SMTP
;   - Ajustez workers selon CPU
;   - Activez proxy_mode si derrière nginx
;
; ===================================================================
